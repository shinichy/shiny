define(["require","exports","module","session"],function(e,t,n){var r=e("session"),i=Backbone.Collection.extend({model:r,initialize:function(){_.bindAll(this,"getActiveSession","setActiveSession","handleActiveSession","changeActiveSession"),this.on("change:isActivated",this.changeActiveSession),this.on("add",this.handleActiveSession)},getActiveSession:function(){return this.activeSession},getActiveEditSession:function(){return this.activeSession.get("editSession")},setActiveSession:function(e){this.activeSession=e,this.trigger("change:activeSession")},handleActiveSession:function(e){this.length===1&&this.setActiveSession(e)},changeActiveSession:function(e,t){if(!t)return;this.activeSession&&this.activeSession.set("isActivated",!1,{silent:!0}),this.setActiveSession(e)}});n.exports=i});